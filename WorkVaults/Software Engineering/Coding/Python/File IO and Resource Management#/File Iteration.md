File objects support the iterator protocol

- Use sys.stdout.write() instead of print. This won't add newlines like print().